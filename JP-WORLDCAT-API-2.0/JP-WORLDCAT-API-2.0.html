<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>JP-WORLDCAT-API-2.0 - MARC Records</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; line-height: 1.6; background: #fafafa; }
        
        /* Header */
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .header h1 { margin: 0; font-size: 2em; font-weight: 300; }
        .header p { margin: 10px 0 0; opacity: 0.9; }
        
        /* Image Gallery */
        .image-gallery { display: flex; gap: 15px; overflow-x: auto; padding: 20px 0; margin-bottom: 30px; background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .thumbnail-container { flex-shrink: 0; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .thumbnail-container:hover { transform: scale(1.02); box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
        .thumbnail { width: 200px; height: 300px; object-fit: cover; border-radius: 8px; border: 3px solid #e0e0e0; transition: border-color 0.2s ease; }
        .thumbnail-container:hover .thumbnail { border-color: #667eea; }
        .thumbnail-label { text-align: center; margin-top: 8px; font-size: 0.85em; color: #666; font-weight: 500; word-break: break-word; max-width: 200px; }
        .no-images { text-align: center; padding: 40px; color: #999; font-style: italic; background: white; border-radius: 10px; margin-bottom: 30px; }
        
        /* Modal */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); }
        .modal-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); max-width: 90vw; max-height: 90vh; }
        .modal-image { max-width: 100%; max-height: 100%; object-fit: contain; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        .modal-close { position: absolute; top: 15px; right: 20px; color: white; font-size: 30px; font-weight: bold; cursor: pointer; z-index: 1001; width: 40px; height: 40px; border-radius: 50%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; transition: background 0.2s ease; }
        .modal-close:hover { background: rgba(255,0,0,0.7); }
        .modal-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; padding: 15px 20px; font-size: 18px; cursor: pointer; border-radius: 5px; transition: background 0.2s ease; }
        .modal-nav:hover { background: rgba(0,0,0,0.8); }
        .modal-prev { left: 20px; }
        .modal-next { right: 20px; }
        .modal-counter { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: white; background: rgba(0,0,0,0.7); padding: 8px 16px; border-radius: 20px; font-size: 14px; }
        
        /* MARC Records */
        .records-section h2 { color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; margin: 30px 0 20px; }
        .marc-record { background: white; border: none; margin-bottom: 25px; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .marc-record h3 { margin-top: 0; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; font-weight: 600; }
        .confidence { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); padding: 6px 12px; border-radius: 20px; display: inline-block; margin-bottom: 15px; color: #2c5530; font-weight: 500; font-size: 0.9em; }
        .review-flag { background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); border: none; color: #d63031; padding: 6px 12px; border-radius: 20px; margin-bottom: 15px; font-weight: 500; font-size: 0.9em; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 5px rgba(0,0,0,0.05); }
        th, td { padding: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #f0f0f0; }
        th { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 600; width: 100px; }
        .subfield-code { font-weight: bold; color: #667eea; background: #f8f9ff; padding: 2px 4px; border-radius: 3px; margin-right: 5px; }
        .no-records { text-align: center; padding: 40px; color: #999; font-style: italic; background: white; border-radius: 10px; margin-bottom: 30px; }
        
        /* External API Results */
        .api-results-section { background: white; border-radius: 10px; padding: 20px; margin-bottom: 25px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .api-results-section h2 { margin-top: 0; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; font-weight: 600; }
        .api-summary { background: #f8f9ff; border: 1px solid #e0e6ff; border-radius: 6px; padding: 12px; margin-bottom: 20px; }
        .api-summary p { margin: 0; color: #333; font-size: 0.95em; }
        .api-source { margin-bottom: 20px; }
        .api-source h3 { color: #667eea; margin-bottom: 10px; font-size: 1.1em; }
        .api-matches { background: #f8f9ff; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
        .api-match { background: white; border: 1px solid #e0e0e0; border-radius: 6px; padding: 10px; margin-bottom: 10px; }
        .api-match:last-child { margin-bottom: 0; }
        .match-title { font-weight: 600; color: #333; margin-bottom: 5px; }
        .match-author { color: #666; margin-bottom: 5px; }
        .match-details { font-size: 0.9em; color: #888; }
        .no-matches { text-align: center; padding: 20px; color: #999; font-style: italic; }
        .api-no-results { }
        .search-details { background: #f8f9fa; border-radius: 6px; padding: 15px; margin-top: 15px; }
        .search-details h4 { margin-top: 0; color: #495057; }
        .search-details ul { margin: 10px 0; padding-left: 20px; }
        .search-details li { margin-bottom: 5px; color: #6c757d; }
        .search-details em { color: #6c757d; }
        .authority-result { display: inline-block; padding: 4px 8px; border-radius: 12px; font-size: 0.85em; margin-right: 10px; }
        .authority-valid { background: #d4edda; color: #155724; }
        .authority-invalid { background: #f8d7da; color: #721c24; }
        
        /* JSON Tree View */
        .json-tree-section { background: white; border-radius: 10px; padding: 20px; margin-bottom: 25px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .json-tree-section h2 { margin-top: 0; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px; font-weight: 600; }
        .tree-container { border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; background: #fafafa; max-height: 600px; overflow-y: auto; font-family: "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", monospace; }
        .expand-all-btn, .collapse-all-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; margin-right: 10px; margin-bottom: 15px; font-size: 0.9em; transition: transform 0.2s ease; }
        .expand-all-btn:hover, .collapse-all-btn:hover { transform: translateY(-1px); }
        
        /* Footer */
        .footer { text-align: center; padding: 20px; color: #666; font-size: 0.9em; background: white; border-radius: 10px; margin-top: 30px; }
        .footer a { color: #667eea; text-decoration: none; font-weight: 500; }
        .footer a:hover { text-decoration: underline; }
        
        /* Responsive */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .thumbnail { width: 150px; height: 225px; }
            .thumbnail-label { max-width: 150px; }
            .modal-nav { display: none; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>JP-WORLDCAT-API-2.0</h1>
        <p>üìö MARC Records generated by marcsnarc on 2025-12-23 14:45:10</p>
    </div>
    
    <div class='image-gallery'>

                <div class='thumbnail-container' onclick='openModal(0)'>
                    <img src='img_PXL_20251212_165802824.webp' alt='PXL_20251212_165802824.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165802824.jpg</div>
                </div>
                
                <div class='thumbnail-container' onclick='openModal(1)'>
                    <img src='img_PXL_20251212_165807773.webp' alt='PXL_20251212_165807773.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165807773.jpg</div>
                </div>
                
                <div class='thumbnail-container' onclick='openModal(2)'>
                    <img src='img_PXL_20251212_165816342.webp' alt='PXL_20251212_165816342.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165816342.jpg</div>
                </div>
                
                <div class='thumbnail-container' onclick='openModal(3)'>
                    <img src='img_PXL_20251212_165825246.webp' alt='PXL_20251212_165825246.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165825246.jpg</div>
                </div>
                
                <div class='thumbnail-container' onclick='openModal(4)'>
                    <img src='img_PXL_20251212_165855357.webp' alt='PXL_20251212_165855357.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165855357.jpg</div>
                </div>
                
                <div class='thumbnail-container' onclick='openModal(5)'>
                    <img src='img_PXL_20251212_165928834.webp' alt='PXL_20251212_165928834.jpg' class='thumbnail' loading='lazy'>
                    <div class='thumbnail-label'>PXL_20251212_165928834.jpg</div>
                </div>
                </div>

    
    <!-- Modal for image viewing -->
    <div id="imageModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <button class="modal-nav modal-prev" onclick="changeImage(-1)">‚Äπ</button>
        <button class="modal-nav modal-next" onclick="changeImage(1)">‚Ä∫</button>
        <div class="modal-content">
            <img id="modalImage" class="modal-image" src="" alt="">
        </div>
        <div class="modal-counter" id="modalCounter"></div>
    </div>
    
    <div class="records-section">
        <h2>üìã MARC Records</h2>
        <div class='marc-record'>
<h3>Record 1</h3>
<div class='confidence'>Confidence: 0.57</div>
<div class='review-flag'>‚ö†Ô∏è Review Required</div>
<table><tr><th>LDR</th><td>00000nam a200000 Ki 500</td></tr><tr><th>001</th><td>msn20251223204510</td></tr><tr><th>003</th><td>DLC</td></tr><tr><th>005</th><td>20251223204510.0</td></tr><tr><th>008</th><td>251223m19062019            o     00jpn und d</td></tr><tr><th>040</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>DLC <span class="subfield-code">‚Ä°b</span>eng <span class="subfield-code">‚Ä°c</span>DLC <span class="subfield-code">‚Ä°e</span>rda </td></tr><tr><th>245</th><td><strong>00</strong> <span class="subfield-code">‚Ä°a</span>JP-WORLDCAT-API-2.0 </td></tr><tr><th>264</th><td><strong>_1</strong> <span class="subfield-code">‚Ä°c</span>1906 </td></tr><tr><th>300</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>6 items (various formats) </td></tr><tr><th>520</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>Collection consists of 2 books, 1 serials, 3 other items. Items date from 1906 to 2019. </td></tr><tr><th>500</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>Collection-level record for 6 items </td></tr><tr><th>500</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>Provenance: Extracted from 6 images using marcsnarc </td></tr><tr><th>561</th><td><strong>__</strong> <span class="subfield-code">‚Ä°a</span>Extracted from 6 images using marcsnarc </td></tr><tr><th>999</th><td><strong>__</strong> <span class="subfield-code">‚Ä°i</span>Generated by marcsnarc on 2025-12-23 <span class="subfield-code">‚Ä°s</span>marcsnarc </td></tr></table></div>

    </div>
    
    <div class="api-results-section">
<h2>üåê External API Results</h2>
<div class="api-summary">
<p><strong>Search Summary:</strong> 2 item(s) searched across WorldCat, Library of Congress, and Alma catalogs</p>
</div>
<div class="api-no-results">
<div class="no-matches">External catalog searches were performed but no matches were found.</div>
<div class="search-details">
<p><strong>Search Status by Service:</strong></p>
<ul>
<li><strong>üìö WorldCat:</strong> Search attempted - likely failed due to server issues or no matches</li>
<li><strong>üèõÔ∏è Library of Congress:</strong> Authority validation performed</li>
<li><strong>üéì Alma Catalog:</strong> Local catalog searched</li>
</ul>
<p><em>Check the processing logs for detailed error messages.</em></p>
</div>
</div>
</div>

    
    
            <div class='json-tree-section'>
                <h2>üìä Analysis Data</h2>
                <div class='tree-container' id='analysis-tree'></div>
                <button class='expand-all-btn' onclick='expandAllNodes("analysis-tree")'>
                    üîç Expand All
                </button>
                <button class='collapse-all-btn' onclick='collapseAllNodes("analysis-tree")'>
                    üìÅ Collapse All
                </button>
            </div>
            
            <div class='json-tree-section'>
                <h2>üìã Processing Metadata</h2>
                <div class='tree-container' id='metadata-tree'></div>
                <button class='expand-all-btn' onclick='expandAllNodes("metadata-tree")'>
                    üîç Expand All
                </button>
                <button class='collapse-all-btn' onclick='collapseAllNodes("metadata-tree")'>
                    üìÅ Collapse All
                </button>
            </div>
            
    
    <div class="footer">
        Generated with <a href="https://github.com/anthropics/marcsnarc">marcsnarc</a> - AI-powered MARC cataloging
    </div>
    
    <script>
        // Global variables for modal and JSON data
        let currentImages = [];
        let currentImageIndex = 0;
        const analysisData = {"collection_analysis": {"item_count": 6, "formats": {"format_counts": {"periodical": 1, "pamphlet|map booklet": 1, "note": 1, "periodical|magazine": 1, "book": 2}, "unique_formats": "{'book', 'pamphlet|map booklet', 'periodical|magazine', 'note', 'periodical'}", "books": 2, "serials": 1, "ephemera": 0, "other": 3, "primary_format": "book"}, "creators": {"creator_counts": {"Osaka mai nichi | Tokyo nichi nichi": 1, "Multiple authors cited": 1}, "unique_creators": "{'Osaka mai nichi | Tokyo nichi nichi', 'Multiple authors cited'}", "items_with_creators": 2, "items_without_creators": 4, "dominant_creator": ["Osaka mai nichi | Tokyo nichi nichi", 1]}, "dates": {"date_range": [1906, 2019], "earliest_date": 1906, "latest_date": 2019, "date_span": 113, "items_with_dates": 4, "date_counts": {"1937": 2, "1906": 1, "2019": 1}}, "languages": {"language_counts": {"japanese, english, chinese": 1, "jpn": 2, "eng": 1, "english with japanese and chinese citations": 1, "english, japanese": 1}, "unique_languages": "{'eng', 'japanese, english, chinese', 'english with japanese and chinese citations', 'jpn', 'english, japanese'}", "primary_language": "jpn", "multilingual": true}, "subjects": {"subject_counts": {"Sino-Japanese War (1937-1945)": 1, "World War II": 1, "Japanese military photography": 1, "War propaganda": 1, "East Asian history": 1, "Manchuria": 1, "Maps": 1, "Japanese colonial materials": 1, "Geographic illustrations": 1, "Military or administrative geography": 1, "Signage": 1, "Wayfinding": 1, "Office materials": 1, "Sino-Japanese War": 1, "North China Incident": 1, "Military photography": 1, "War journalism": 1, "1937": 1, "Bibliography": 1, "Japanese studies": 1, "Chinese studies": 1, "Asian history": 1, "Osaka region": 1, "Burma/Myanmar": 1, "Japanese news media": 1, "East Asia": 1, "Admiral Soemu Toyoda": 1, "Combined Fleet": 1, "Burma front": 1, "Loyang Condition": 1, "Admiral Mineichi Koga": 1}, "unique_subjects": "{'East Asian history', 'Military photography', 'Office materials', 'Chinese studies', 'Asian history', 'Burma/Myanmar', 'Japanese colonial materials', 'Combined Fleet', 'Loyang Condition', 'Wayfinding', '1937', 'Japanese studies', 'Manchuria', 'North China Incident', 'Admiral Mineichi Koga', 'World War II', 'War journalism', 'Bibliography', 'Japanese news media', 'East Asia', 'Maps', 'Signage', 'Geographic illustrations', 'Admiral Soemu Toyoda', 'Osaka region', 'Military or administrative geography', 'Japanese military photography', 'Sino-Japanese War (1937-1945)', 'War propaganda', 'Sino-Japanese War', 'Burma front'}", "items_with_subjects": 6, "common_subjects": [["Sino-Japanese War (1937-1945)", 1], ["World War II", 1], ["Japanese military photography", 1], ["War propaganda", 1], ["East Asian history", 1]], "subject_coherence": 2.5833333333333335}, "provenance": {"collection_provenance": "Extracted from 6 images using marcsnarc", "item_provenances": {}, "consistency_score": 1.0, "has_provenance": true}, "identifiers": {"items_with_isbn": 0, "items_with_issn": 0, "items_with_oclc": 0, "items_with_lccn": 0, "identifier_coverage": 0.0}, "physical_characteristics": {"extent_variety": 5, "dimension_variety": 4, "physical_coherence": 0.25}, "format_diversity": 5, "creator_diversity": 2, "has_books_serials": true, "shared_provenance": true, "temporal_coherence": 0.2, "workflow_type": "collection_images_to_marc", "collection_name": "JP-WORLDCAT-API-2.0", "processing_timestamp": "2025-12-23T14:45:10.060096", "total_records": 1, "approach": "collection"}, "batch_analysis": {"collection_name": "JP-WORLDCAT-API-2.0", "total_images": 6, "successful_analyses": 6, "failed_analyses": 0, "individual_results": [{"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165807773.jpg", "extracted_data": {"title": "The China Incident Pictorial", "creator": {"name": "Osaka mai nichi | Tokyo nichi nichi", "type": "corporate", "source": "claude_analysis"}, "publisher": "Osaka mai nichi, Tokyo nichi nichi", "publication_place": "Osaka/Tokyo", "publication_date": "1937-1939", "normalized_date": {"normalized": "1937", "end_date": "1939", "circa": false, "uncertain": false, "original": "1937-1939"}, "format": "periodical", "extent": "Multiple issues", "language": "japanese, english, chinese", "original_script_title": "Multiple scripts including Japanese and Chinese characters", "subjects": [{"heading": "Sino-Japanese War (1937-1945)", "type": "topical", "source": "claude_analysis"}, {"heading": "World War II", "type": "topical", "source": "claude_analysis"}, {"heading": "Japanese military photography", "type": "topical", "source": "claude_analysis"}, {"heading": "War propaganda", "type": "topical", "source": "claude_analysis"}, {"heading": "East Asian history", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "This appears to be a bibliographic reference page or catalog entry listing multiple issues of 'The China Incident Pictorial'", "source": "image_analysis"}, {"text": "Issues described include coverage from 1937-1939", "source": "image_analysis"}, {"text": "References indicate this was a large format box photo-illustrated magazine", "source": "image_analysis"}, {"text": "Content includes war photography and propaganda related to the Second Sino-Japanese War", "source": "image_analysis"}, {"text": "Multiple language versions noted including Japanese, English, and Chinese", "source": "image_analysis"}, {"text": "Various covers described including soldiers, Chinese children, Japanese officers, street scenes, etc.", "source": "image_analysis"}, {"text": "Issues cataloged range from August 1937 (Showa 12) through 1939 (Showa 14)", "source": "image_analysis"}, {"text": "Published as special issues and regular numbers", "source": "image_analysis"}, {"text": "Contains references to specific cover subjects like 'Policeman rescuing traffic', 'Japanese sniper on rooftop', 'Young woman in Peking', etc.", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.765, "creator": 0.675, "publication": 0.5850000000000001, "format": 0.45499999999999996, "language": 0.5850000000000001, "overall": 0.642}, "overall_confidence": 0.642, "claude_factors": {"text_clarity": "high", "completeness": "medium", "language_certainty": "high"}, "original_text_regions": [{"text": "Osaka mai nichi, Tokyo nichi nichi", "language": "Japanese (romanized)", "location": "header"}, {"text": "The China Incident Pictorial", "language": "English", "location": "title"}, {"text": "ÊîØÈÇ£‰∫ãËÆäÁï´Â†±; Shina jihen gaho", "language": "Japanese/Chinese", "location": "title"}, {"text": "ÊîØÈÇ£‰∫ãËÆäÂ§ßÈò™ÊØéÊó• = Osaka mai nichi Shimbun sha", "language": "Japanese/Chinese with romanization", "location": "publisher information"}, {"text": "The Shina Jihen Gaho is a large format box photo-illustrated magazine devoted to the war in China...", "language": "English", "location": "descriptive note"}], "processing_notes": ["Contains CJK characters - romanization provided"], "review_required": true, "sequence_number": 1}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165928834.jpg", "extracted_data": {"title": "Ê∫ÄÊ¥≤Âú∞Âõ≥", "creator": {"name": "Unknown", "type": "personal", "source": "claude_analysis"}, "publication_place": "Japan (likely)", "publication_date": "Early to mid-20th century (Showa period based on context)", "normalized_date": {"normalized": null, "end_date": null, "circa": true, "uncertain": true, "original": "Early to mid-20th century (Showa period based on context)"}, "format": "pamphlet|map booklet", "extent": "Single sheet or pamphlet page", "dimensions": "Approximately 25-30cm based on visual assessment", "language": "jpn", "original_script_title": "Japanese (kanji and kana)", "subjects": [{"heading": "Manchuria", "type": "topical", "source": "claude_analysis"}, {"heading": "Maps", "type": "topical", "source": "claude_analysis"}, {"heading": "Japanese colonial materials", "type": "topical", "source": "claude_analysis"}, {"heading": "Geographic illustrations", "type": "topical", "source": "claude_analysis"}, {"heading": "Military or administrative geography", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "Document appears to be a cover or title page for a Manchuria map publication", "source": "image_analysis"}, {"text": "Contains photographic images showing industrial or military scenes, including what appears to be an aircraft", "source": "image_analysis"}, {"text": "Shows architectural/urban scenes", "source": "image_analysis"}, {"text": "Material shows age with visible foxing and discoloration", "source": "image_analysis"}, {"text": "Text at top margin appears to contain publication or series information", "source": "image_analysis"}, {"text": "Right side contains large characters reading 'Ê∫ÄÊ¥≤Âú∞Âõ≥' (Manshu Chizu - Map of Manchuria)", "source": "image_analysis"}, {"text": "Contains additional descriptive text in smaller characters on right side relating to different types of maps", "source": "image_analysis"}, {"text": "Vertical text on left margin appears to read 'Âõ≥‰∫ï‰ΩúÁØ§' (possible publisher or creator name)", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.595, "creator": 0.5249999999999999, "publication": 0.30333333333333334, "format": 0.45499999999999996, "language": 0.5850000000000001, "overall": 0.49716666666666665}, "overall_confidence": 0.49716666666666665, "claude_factors": {"text_clarity": "medium", "completeness": "medium", "language_certainty": "high"}, "original_text_regions": [{"text": "Ê∫ÄÊ¥≤Âú∞Âõ≥", "language": "Japanese", "location": "cover, right side vertical text"}, {"text": "Ê∫ÄÊ¥≤„ÅÆËàûË∏ä„ÅÆÂú∞Âõ≥\nÊ∫ÄÊ¥≤„ÅÆËàûË∏ä„ÅÆÂõ≥", "language": "Japanese", "location": "cover, right side descriptive text"}, {"text": "Âõ≥‰∫ï‰ΩúÁØ§", "language": "Japanese", "location": "cover, left margin vertical text"}], "processing_notes": ["Overall confidence is low - manual review recommended", "Title extraction has low confidence", "Creator/author extraction has low confidence", "Contains CJK characters - romanization provided"], "review_required": true, "sequence_number": 2}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165802824.jpg", "extracted_data": {"title": "Bathroom", "format": "note", "extent": "Single adhesive note", "dimensions": "Approximately 3x3 inches (standard Post-it note size)", "language": "eng", "original_script_title": "Latin", "subjects": [{"heading": "Signage", "type": "topical", "source": "claude_analysis"}, {"heading": "Wayfinding", "type": "topical", "source": "claude_analysis"}, {"heading": "Office materials", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "Handwritten text on blue adhesive note", "source": "image_analysis"}, {"text": "Text written vertically on the note", "source": "image_analysis"}, {"text": "Note appears to be affixed to a wooden surface", "source": "image_analysis"}, {"text": "Informal directional or location marker", "source": "image_analysis"}, {"text": "Not a bibliographic item in traditional sense", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.765, "creator": 0.2, "publication": 0.0, "format": 0.5850000000000001, "language": 0.5850000000000001, "overall": 0.42575}, "overall_confidence": 0.42575, "claude_factors": {"text_clarity": "high", "completeness": "high", "language_certainty": "high"}, "original_text_regions": [{"text": "Bathroom", "language": "English", "location": "center of note"}], "processing_notes": ["Overall confidence is low - manual review recommended", "Creator/author extraction has low confidence", "Contains CJK characters - romanization provided", "No creator/author information found"], "review_required": true, "sequence_number": 3}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165855357.jpg", "extracted_data": {"title": "ÂåóÊîØ‰∫ãÂ§âÁîªÂ†±", "publisher": "ÊúùÊó•Êñ∞ËÅûÁ§æ", "publication_date": "Êò≠ÂíåÂçÅ‰∫åÂπ¥ÂÖ´Êúà‰∫åÂçÅ‰∫îÊó• (1937-08-25)", "normalized_date": {"normalized": "1937", "end_date": null, "circa": false, "uncertain": false, "original": "Êò≠ÂíåÂçÅ‰∫åÂπ¥ÂÖ´Êúà‰∫åÂçÅ‰∫îÊó• (1937-08-25)"}, "format": "periodical|magazine", "extent": "Single issue", "dimensions": "Approximately standard magazine size", "language": "jpn", "original_script_title": "Chinese characters (Kanji) with Japanese usage", "other_identifiers": "ÂÉπÂçÅ‰∫åÈå¢ (Price: 12 sen)", "subjects": [{"heading": "Sino-Japanese War", "type": "topical", "source": "claude_analysis"}, {"heading": "North China Incident", "type": "topical", "source": "claude_analysis"}, {"heading": "Military photography", "type": "topical", "source": "claude_analysis"}, {"heading": "War journalism", "type": "topical", "source": "claude_analysis"}, {"heading": "1937", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "Black and white photographic cover showing Japanese soldiers in combat positions wearing helmets", "source": "image_analysis"}, {"text": "Title translates to 'North China Incident Pictorial Report'", "source": "image_analysis"}, {"text": "Historical wartime propaganda/news publication", "source": "image_analysis"}, {"text": "Cover shows soldiers from behind looking through vegetation", "source": "image_analysis"}, {"text": "Published by Asahi Shimbun (ÊúùÊó•Êñ∞ËÅûÁ§æ)", "source": "image_analysis"}, {"text": "Date corresponds to early period of Second Sino-Japanese War", "source": "image_analysis"}, {"text": "Shows signs of age and wear", "source": "image_analysis"}, {"text": "Vertical text reading right to left in traditional format", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.765, "creator": 0.2, "publication": 0.39, "format": 0.45499999999999996, "language": 0.5850000000000001, "overall": 0.48425}, "overall_confidence": 0.48425, "claude_factors": {"text_clarity": "high", "completeness": "medium", "language_certainty": "high"}, "original_text_regions": [{"text": "ÂåóÊîØ‰∫ãÂ§âÁîªÂ†±", "language": "Japanese", "location": "cover banner"}, {"text": "ÊúùÊó•Êñ∞ËÅûÁ§æ", "language": "Japanese", "location": "publisher information below banner"}, {"text": "Êò≠ÂíåÂçÅ‰∫åÂπ¥ÂÖ´Êúà‰∫åÂçÅ‰∫îÊó•", "language": "Japanese", "location": "left side, publication date"}, {"text": "ÂÉπÂçÅ‰∫åÈå¢", "language": "Japanese", "location": "left side, price information"}], "processing_notes": ["Overall confidence is low - manual review recommended", "Creator/author extraction has low confidence", "Contains CJK characters - romanization provided", "No creator/author information found"], "review_required": true, "sequence_number": 4}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165816342.jpg", "extracted_data": {"title": "Bibliography/Reference List (portion visible)", "creator": {"name": "Multiple authors cited", "type": "corporate", "source": "claude_analysis"}, "publisher": "Various publishers", "publication_place": "Various locations including Showa (Tokyo), Nanjing, Shanghai", "publication_date": "References span 1906-2006", "normalized_date": {"normalized": "1906", "end_date": "2006", "circa": false, "uncertain": false, "original": "References span 1906-2006"}, "format": "book", "extent": "Single page of bibliography", "dimensions": "Standard letter or A4 size", "language": "english with japanese and chinese citations", "original_script_title": "Latin script with Japanese kanji/kana and Chinese characters", "subjects": [{"heading": "Bibliography", "type": "topical", "source": "claude_analysis"}, {"heading": "Japanese studies", "type": "topical", "source": "claude_analysis"}, {"heading": "Chinese studies", "type": "topical", "source": "claude_analysis"}, {"heading": "Asian history", "type": "topical", "source": "claude_analysis"}, {"heading": "Osaka region", "type": "topical", "source": "claude_analysis"}, {"heading": "Burma/Myanmar", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "This appears to be a page from a scholarly work's bibliography or reference list", "source": "image_analysis"}, {"text": "Contains entries numbered from approximately [1930] to [1944]", "source": "image_analysis"}, {"text": "Multiple citations in Japanese with romanized titles and English translations", "source": "image_analysis"}, {"text": "References include works about Osaka puppet regime, Japanese government cover organizations, and regional history", "source": "image_analysis"}, {"text": "Mix of primary sources and secondary scholarship", "source": "image_analysis"}, {"text": "Visible entries reference works from early-to-mid 20th century as well as contemporary scholarship", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.765, "creator": 0.675, "publication": 0.5850000000000001, "format": 0.45499999999999996, "language": 0.5850000000000001, "overall": 0.642}, "overall_confidence": 0.642, "claude_factors": {"text_clarity": "high", "completeness": "medium", "language_certainty": "high"}, "original_text_regions": [{"text": "Sh≈çwa 14, August 15, no. 64. Anglo-Japanese talks in Tokyo. Cover of hieroglyphic type of behind a palm tree to celebrate establishment of a new government in China. Nanjing cartoon in Asahi Shimbun", "language": "English", "location": "bibliography entry"}, {"text": "Dai toa sens≈ç shi Â§ßÊù±‰∫úÊà¶‰∫âÂè≤ [Osaka: Osaka mainichi shimbunsha, 1942]", "language": "Japanese with English romanization", "location": "bibliography entry"}, {"text": "Greater East Asia War. Pictorial. A continuation of the Shina jihen gah≈ç", "language": "English", "location": "bibliography entry"}, {"text": "Dai toa sens≈ç gah≈ç Â§ßÊù±‰∫úÊà¶‰∫âÁîªÂ†± (Sh≈çwa 18) no. 28-29, no. 20, including covers, Trans: The Greater East-Asia War Pictorial", "language": "Japanese with English translation", "location": "bibliography entry"}, {"text": "Dai toa sens≈ç nihon jidai gah≈ç Â§ßÊù±‰∫úÊà¶‰∫âÊó•Êú¨ÊôÇ‰ª£ÁîªÂ†± (Sh≈çwa 18, 1943, June 8, 1944) no. 31. 16. pa. including covers. Trans: The Greater East-Asia War, Pictorial A continuation of the shina jihen gah≈ç ÊîØÈÇ£‰∫ãÂ§âÁîªÂ†±. Published jointly with the East-Asia War", "language": "Japanese with English translation", "location": "bibliography entry"}], "processing_notes": ["Contains CJK characters - romanization provided"], "review_required": true, "sequence_number": 5}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165825246.jpg", "extracted_data": {"title": "T≈çy≈ç nichi nichi shinbunsha kinen kai shins≈çkan Êù±Ê¥ãÊó•Êó•Êñ∞ËÅûÁ§æË®òÂøµ‰ºöÊñ∞È§®", "publication_date": "2019", "normalized_date": {"normalized": "2019", "end_date": null, "circa": false, "uncertain": false, "original": "2019"}, "format": "book", "language": "english, japanese", "original_script_title": "Latin, Japanese (kanji/kana)", "other_identifiers": "Total issues held: 19", "subjects": [{"heading": "Japanese news media", "type": "topical", "source": "claude_analysis"}, {"heading": "East Asia", "type": "topical", "source": "claude_analysis"}, {"heading": "Admiral Soemu Toyoda", "type": "topical", "source": "claude_analysis"}, {"heading": "Combined Fleet", "type": "topical", "source": "claude_analysis"}, {"heading": "Burma front", "type": "topical", "source": "claude_analysis"}, {"heading": "Loyang Condition", "type": "topical", "source": "claude_analysis"}, {"heading": "Admiral Mineichi Koga", "type": "topical", "source": "claude_analysis"}], "notes": [{"text": "This appears to be a colophon or verso page of a publication", "source": "image_analysis"}, {"text": "References monthly illustrated magazine devoted to news of Japan's war in Greater East Asia", "source": "image_analysis"}, {"text": "Mentions photographic covers and advertisements from rear cover", "source": "image_analysis"}, {"text": "Text indicates cataloging occurred in July 2019", "source": "image_analysis"}, {"text": "Reference to fleet standing on the bridge and India-Burma front", "source": "image_analysis"}, {"text": "References Bagagaville, Death of Admiral Mineichi Koga, and commander of combined fleet", "source": "image_analysis"}, {"text": "States publication was purchased from Utagawa123 via Ebay in the early 2000s", "source": "image_analysis"}, {"text": "Contains mixed English and Japanese text with romanization", "source": "image_analysis"}], "extraction_source": "claude_vision", "title_source": "claude_analysis", "creator_source": "claude_analysis", "publication_source": "claude_analysis"}, "confidence_scores": {"title": 0.595, "creator": 0.2, "publication": 0.15166666666666667, "format": 0.26, "language": 0.5850000000000001, "overall": 0.35633333333333334}, "overall_confidence": 0.35633333333333334, "claude_factors": {"text_clarity": "medium", "completeness": "low", "language_certainty": "high"}, "original_text_regions": [{"text": "T≈çy≈ç nichi nichi shinbunsha kinen kai shins≈çkan Êù±Ê¥ãÊó•Êó•Êñ∞ËÅûÁ§æË®òÂøµ‰ºöÊñ∞È§®", "language": "Japanese with romanization", "location": "verso/colophon page"}, {"text": "Total issues held: 19. Cataloged July, 2019.", "language": "English", "location": "verso/colophon page"}, {"text": "A large format monthly illustrated magazine devoted to the news of Japan's war in greater East Asia. Includes a day by day summary of the month's news.", "language": "English", "location": "verso/colophon page"}, {"text": "Photographs are v&w only. Rear covers are advertisements. Contents: front cover: Admiral Soemu Toyoda, commander of the Combined Fleet, standing on the bridge. India Burma front. Scenes in Bagagaville. Death of Admiral Mineichi Koga, commander of the combined fleet. Loyang Condition. Excellent. Disbound, with four small holes punched along edge, purchased from Utagawa123 via Ebay in the early 2000s.", "language": "English", "location": "verso/colophon page"}], "processing_notes": ["Overall confidence is low - manual review recommended", "Title extraction has low confidence", "Creator/author extraction has low confidence", "Bibliographic information appears incomplete in image", "Contains CJK characters - romanization provided", "No creator/author information found"], "review_required": true, "sequence_number": 6}], "collection_analysis": {"total_items": 6, "successful_extractions": 6, "common_characteristics": {"primary_language": "jpn", "language_distribution": {"japanese, english, chinese": 1, "jpn": 2, "eng": 1, "english with japanese and chinese citations": 1, "english, japanese": 1}, "primary_format": "book", "format_distribution": {"periodical": 1, "pamphlet|map booklet": 1, "note": 1, "periodical|magazine": 1, "book": 2}, "publishers": {"Osaka mai nichi, Tokyo nichi nichi": 1, "ÊúùÊó•Êñ∞ËÅûÁ§æ": 1, "Various publishers": 1}}, "quality_assessment": {"average_confidence": 0.5079166666666667, "high_confidence_items": 0, "low_confidence_items": 4, "confidence_range": [0.35633333333333334, 0.642]}, "recommendations": ["More than 30% of items have low confidence - consider manual review", "Multiple languages detected - verify language coding", "6 items contain CJK characters - verify romanization"]}, "batch_confidence": 0.5079166666666667, "processing_timestamp": "2025-12-23T14:45:09.064112"}, "individual_extractions": [{"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165807773.jpg", "extraction_confidence": 0.642, "extracted_fields": ["title", "creator", "publisher", "publication_place", "publication_date", "normalized_date", "format", "extent", "language", "original_script_title", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165928834.jpg", "extraction_confidence": 0.49716666666666665, "extracted_fields": ["title", "creator", "publication_place", "publication_date", "normalized_date", "format", "extent", "dimensions", "language", "original_script_title", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165802824.jpg", "extraction_confidence": 0.42575, "extracted_fields": ["title", "format", "extent", "dimensions", "language", "original_script_title", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165855357.jpg", "extraction_confidence": 0.48425, "extracted_fields": ["title", "publisher", "publication_date", "normalized_date", "format", "extent", "dimensions", "language", "original_script_title", "other_identifiers", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165816342.jpg", "extraction_confidence": 0.642, "extracted_fields": ["title", "creator", "publisher", "publication_place", "publication_date", "normalized_date", "format", "extent", "dimensions", "language", "original_script_title", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}, {"image_path": "examples/Japanese Prints in OCLC/PXL_20251212_165825246.jpg", "extraction_confidence": 0.35633333333333334, "extracted_fields": ["title", "publication_date", "normalized_date", "format", "language", "original_script_title", "other_identifiers", "subjects", "notes", "extraction_source", "title_source", "creator_source", "publication_source", "source_image", "extraction_confidence", "sequence_number"]}], "external_api_results": [{"worldcat": [], "loc": [], "alma": [], "best_match": null}]};
        const metadataData = {"workflow_type": "collection_images_to_marc", "collection_name": "JP-WORLDCAT-API-2.0", "processing_result": {"approach": "collection", "records_generated": 1, "review_required": true, "groupings": {"approach": "collection", "total_items": 6, "groups": [{"type": "collection", "items": ["The China Incident Pictorial", "Ê∫ÄÊ¥≤Âú∞Âõ≥", "Bathroom", "ÂåóÊîØ‰∫ãÂ§âÁîªÂ†±", "Bibliography/Reference List (portion visible)", "T≈çy≈ç nichi nichi shinbunsha kinen kai shins≈çkan Êù±Ê¥ãÊó•Êó•Êñ∞ËÅûÁ§æË®òÂøµ‰ºöÊñ∞È§®"], "record_type": "collection"}]}}, "collection_data": {"total_items": 6, "source_images": ["examples/Japanese Prints in OCLC/PXL_20251212_165807773.jpg", "examples/Japanese Prints in OCLC/PXL_20251212_165928834.jpg", "examples/Japanese Prints in OCLC/PXL_20251212_165802824.jpg", "examples/Japanese Prints in OCLC/PXL_20251212_165855357.jpg", "examples/Japanese Prints in OCLC/PXL_20251212_165816342.jpg", "examples/Japanese Prints in OCLC/PXL_20251212_165825246.jpg"], "provenance": "Extracted from 6 images using marcsnarc"}, "batch_analysis_summary": {"total_images": 6, "successful_analyses": 6, "batch_confidence": 0.5079166666666667}, "processing_timestamp": "2025-12-23T14:45:10.060108"};
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize images array from gallery
            const thumbnails = document.querySelectorAll('.thumbnail');
            currentImages = Array.from(thumbnails).map(img => ({
                src: img.src,
                alt: img.alt
            }));
            
            // Initialize JSON trees
            if (analysisData && Object.keys(analysisData).length > 0) {
                renderJsonTree('analysis-tree', analysisData);
            }
            if (metadataData && Object.keys(metadataData).length > 0) {
                renderJsonTree('metadata-tree', metadataData);
            }
        });
        
        // Modal functions
        function openModal(index) {
            currentImageIndex = index;
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const counter = document.getElementById('modalCounter');
            
            if (currentImages[index]) {
                modalImage.src = currentImages[index].src;
                modalImage.alt = currentImages[index].alt;
                counter.textContent = `${index + 1} of ${currentImages.length}`;
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function changeImage(direction) {
            currentImageIndex = (currentImageIndex + direction + currentImages.length) % currentImages.length;
            openModal(currentImageIndex);
        }
        
        // Keyboard controls
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('imageModal');
            if (modal.style.display === 'block') {
                if (e.key === 'Escape') closeModal();
                if (e.key === 'ArrowLeft') changeImage(-1);
                if (e.key === 'ArrowRight') changeImage(1);
            }
        });
        
        // Close modal on background click
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });
        
        // JSON Tree rendering functions
        function renderJsonTree(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container || !data) return;
            
            container.innerHTML = '';
            const tree = createTreeElement(data, '', 0);
            container.appendChild(tree);
        }
        
        function createTreeElement(value, key, level) {
            const wrapper = document.createElement('div');
            wrapper.style.marginLeft = `${level * 20}px`;
            wrapper.style.marginBottom = '3px';
            
            if (value && typeof value === 'object' && !Array.isArray(value)) {
                // Object
                const keyElement = document.createElement('div');
                keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñ∂ üìÅ ${key} {${Object.keys(value).length}}</span>`;
                keyElement.style.userSelect = 'none';
                
                const children = document.createElement('div');
                children.style.display = 'none';
                children.style.borderLeft = '2px solid #e2e8f0';
                children.style.marginLeft = '15px';
                children.style.paddingLeft = '10px';
                
                Object.entries(value).forEach(([childKey, childValue]) => {
                    children.appendChild(createTreeElement(childValue, childKey, 0));
                });
                
                keyElement.addEventListener('click', function() {
                    const isExpanded = children.style.display !== 'none';
                    if (isExpanded) {
                        children.style.display = 'none';
                        keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñ∂ üìÅ ${key} {${Object.keys(value).length}}</span>`;
                    } else {
                        children.style.display = 'block';
                        keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñº üìÇ ${key} {${Object.keys(value).length}}</span>`;
                    }
                });
                
                wrapper.appendChild(keyElement);
                wrapper.appendChild(children);
            } else if (Array.isArray(value)) {
                // Array
                const keyElement = document.createElement('div');
                keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñ∂ üìö ${key} [${value.length}]</span>`;
                keyElement.style.userSelect = 'none';
                
                const children = document.createElement('div');
                children.style.display = 'none';
                children.style.borderLeft = '2px solid #e2e8f0';
                children.style.marginLeft = '15px';
                children.style.paddingLeft = '10px';
                
                value.forEach((item, index) => {
                    children.appendChild(createTreeElement(item, `[${index}]`, 0));
                });
                
                keyElement.addEventListener('click', function() {
                    const isExpanded = children.style.display !== 'none';
                    if (isExpanded) {
                        children.style.display = 'none';
                        keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñ∂ üìö ${key} [${value.length}]</span>`;
                    } else {
                        children.style.display = 'block';
                        keyElement.innerHTML = `<span style="cursor: pointer; color: #2d3748; font-weight: 600;">‚ñº üìñ ${key} [${value.length}]</span>`;
                    }
                });
                
                wrapper.appendChild(keyElement);
                wrapper.appendChild(children);
            } else {
                // Primitive value
                const element = document.createElement('div');
                const valueStr = value === null ? 'null' : String(value);
                const valueType = typeof value;
                let color = '#4a5568';
                let icon = 'üìÑ';
                
                if (valueType === 'string') { color = '#38a169'; icon = 'üìù'; }
                else if (valueType === 'number') { color = '#d69e2e'; icon = 'üî¢'; }
                else if (valueType === 'boolean') { color = '#9f7aea'; icon = '‚úÖ'; }
                else if (value === null) { color = '#a0aec0'; icon = '‚ùå'; }
                
                element.innerHTML = `<span style="color: #2d3748; font-weight: 600;">${icon} ${key}:</span> <span style="color: ${color};">${valueType === 'string' ? '"' + valueStr + '"' : valueStr}</span>`;
                wrapper.appendChild(element);
            }
            
            return wrapper;
        }
        
        function expandAllNodes(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Find all clickable tree nodes (divs containing spans with cursor: pointer)
            container.querySelectorAll('span[style*="cursor: pointer"]').forEach(span => {
                if (span.innerHTML.includes('‚ñ∂')) {
                    span.parentElement.click();
                }
            });
        }
        
        function collapseAllNodes(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Find all clickable tree nodes (divs containing spans with cursor: pointer)
            container.querySelectorAll('span[style*="cursor: pointer"]').forEach(span => {
                if (span.innerHTML.includes('‚ñº')) {
                    span.parentElement.click();
                }
            });
        }
    </script>
</body>
</html>